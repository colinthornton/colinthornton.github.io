<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-family:georgia, serif;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:darkcyan;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}h2,h3{font-family:arial, sans-serif;}</style><style data-href="/styles.5dd7a936c9f728735851.css">code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}body{background-color:#1f1e1d;color:#f0f8ff}</style><meta name="generator" content="Gatsby 2.22.10"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">Palindrome Algorithms in JavaScript | colinthornton</title><meta data-react-helmet="true" name="description" content="Going over several ways of solving the classic &quot;is this string a palindrome&quot; algorithm"/><meta data-react-helmet="true" property="og:title" content="Palindrome Algorithms in JavaScript"/><meta data-react-helmet="true" property="og:description" content="Going over several ways of solving the classic &quot;is this string a palindrome&quot; algorithm"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Palindrome Algorithms in JavaScript"/><meta data-react-helmet="true" name="twitter:description" content="Going over several ways of solving the classic &quot;is this string a palindrome&quot; algorithm"/><link as="script" rel="preload" href="/webpack-runtime-293c9324f0c106f6f902.js"/><link as="script" rel="preload" href="/styles-823ae8103e36ae8a7f9f.js"/><link as="script" rel="preload" href="/framework-75da9754c2a76bbaf08a.js"/><link as="script" rel="preload" href="/app-97e688c47ef3d9ebdc3a.js"/><link as="script" rel="preload" href="/commons-736c4166a3fdefed35cd.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-c9103716d676f8d32bfe.js"/><link as="fetch" rel="preload" href="/page-data/blog/palindrome-algorithms/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><header><h3 style="margin-top:0"><a style="box-shadow:none;color:inherit" href="/blog">colinthornton/blog</a></h3></header><main><article><header><h1 style="margin-top:1.75rem;margin-bottom:0">Palindrome Algorithms in JavaScript</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem">May 15, 2020</p></header><section><p>This post goes in depth into my thought process when solving algorithm problems. There will be code. The code will be written in JavaScript. If that doesn’t appeal to you then turn back now.</p>
<p>If you’re a beginner coder, then I hope this post will help you gain some insight into how to tackle algorithms. If you’re unfamiliar with JavaScript, I hope you’ll be able to pick up some new syntax or built-in methods and add them to your repertoire. If you’re already a JavaScript expert and leetcode master, then I encourage you to message me about what areas I could improve.</p>
<h2>Defining the problem</h2>
<p>If you’re not familiar, a palindrome is a word or phrase that retains its spelling even when reversed, the quintessential example being “race car.” Go ahead, confirm that it’s a palindrome. You can flip it around however many times you like, the letters will always come in the same order: r-a-c-e-c-a-r.</p>
<p>I’m not quite sure why, but as far as algorithm problems go, this one comes up quite often. One thing I do know is that depending on the language you code it in, there are many approaches that you could take, so it’s good to keep the space and time complexity of your solution in mind (as with all algorithms).</p>
<p>I’m going to go over several solutions in JavaScript. The function signature looks like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">/**
 * @param {string} str
 * @return {boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">isPalindrome</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></div>
<h2>A simple (and inefficient) solution</h2>
<p>Let’s start with an approach that is easy to understand conceptually. The thought process goes like this: we need to determine whether <code class="language-text">str</code> is the same as itself reversed, so why not start by reversing it?</p>
<p>So how can we reverse a string? A decrementing for loop could do the trick.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> reversed <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> str<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  reversed <span class="token operator">+=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>That’s all well and good, but we have to use <code class="language-text">let</code> in order to reassign <code class="language-text">reversed</code> for each character in <code class="language-text">str</code>. I prefer to avoid reassignment when possible to help with readability and reduce the mental load of having to follow all the mutations of a variable.</p>
<p>Here’s a way to reverse it all in one line, chaining together some built-in string and array methods.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> reversed <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>In case you’re unfamiliar, <code class="language-text">split</code> is a string method that returns an array of strings generated by splitting the parent at each occurrence of the specified delimiter. <code class="language-text">reverse</code> does what it says on the tin, it reverses the sorting of an array. Then <code class="language-text">join</code> is the opposite of split, it turns an array of strings into a single string, connecting those array elements together with the specified delimiter. In our case, the delimiter is an empty string, so <code class="language-text">str</code> will be turned into an array of single-character strings, reversed, then joined back together again.</p>
<p>Now that we have <code class="language-text">reversed</code>, we can simply compare it to <code class="language-text">str</code>, and we have our solution. If they’re the same, it’s a palindrome. Altogether, here’s the solution.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">isPalindrome</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> reversed <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> str <span class="token operator">===</span> reversed<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>One thing this solution really has going for it is readability. Two lines and you’re done - does <code class="language-text">str</code> equal itself <code class="language-text">reversed</code>? It can’t get much easier to understand than that. But, you may have noticed that I titled this section in a way that implies it’s not very good. So what gives?</p>
<p>The biggest issue with this approach is the amount of space it requires. When the function is called, the computer already has space carved out in memory to store <code class="language-text">str</code>, and then it needs to carve out another equally large chunk of memory to store <code class="language-text">reversed</code>. In the case of an input like “racecar” it’s trivial, but imagine the input string were the entire text of some novel you picked up off the shelf. Chances are good that if you looked at the first letter of the first word of the book, then looked at the last letter of the last word, that they are not the same. There’s no reason to even look at any of the other letters, you can definitively determine that the novel’s text is not a palindrome right there. But with the algorithm above, we store a reversed copy of all the characters in memory, just in case!</p>
<p>Let’s see if we can’t reduce our memory requirements.</p>
<h2>No copies</h2>
<p>This time we’re going to write <code class="language-text">isPalindrome</code> without a <code class="language-text">reversed</code> variable. It would be ideal if we could solve the problem only using the string that’s been passed to us.</p>
<p>I already hinted at the algorithm we’re going to use in the paragraph above about the case of a very long input string. If you were to pick up a book and determine if its text were a palindrome, you’d start by looking at the first letter and comparing it to the last letter. If they were the same, you’d go to the second letter and compare it to the second-to-last letter, and so on… If you miraculously reached the end of the book without finding a mismatch, then congratulations, that novel’s a palindrome (and you have a lot of time on your hands).</p>
<p>Let’s try to emulate that approach in code. In order to loop through each character in the string, we’re going to use a for loop, comparing the front index of <code class="language-text">str</code> to the corresponding back index along the way. In the case that they aren’t the same, we can immediately return false without wasting time checking the rest of the characters.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> front <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> front <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> front<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> back <span class="token operator">=</span> str<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> front<span class="token punctuation">;</span> <span class="token comment">// `front` places from the back</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span>front<span class="token punctuation">]</span> <span class="token operator">!==</span> str<span class="token punctuation">[</span>back<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This is already starting to look good. But you may have noticed that there is one small optimization that can be made. In the current implementation, once the loop passes the halfway-point, it starts to make the same comparisons over again, just with <code class="language-text">front</code> and <code class="language-text">back</code> swapped. If it never finds a mismatch, then each pairing will end up being checked twice. So the optimization is to stop the loop once it has reached the midpoint of the string, because it’s definitely a palindrome if the loop makes it there.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> front <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> front <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> front<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// same as above</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Now <code class="language-text">front</code> will increment from index 0 while <code class="language-text">back</code> decrements from the last index, and they’ll eventually meet at the midway point.</p>
<p>The final solutions looks like this:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">isPalindrome</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> front <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> front <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> front<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> back <span class="token operator">=</span> str<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> front<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span>front<span class="token punctuation">]</span> <span class="token operator">!==</span> str<span class="token punctuation">[</span>back<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h2>Leveling up</h2>
<p>The algorithms above work on the assumption that all characters are counted the same, including spaces, punctuation, and capitalization. But what if I only wanted to look at the <em>spelling</em> of the word or phrase. For example, what if we wanted our algorithm to count all of the following as valid palindromes?</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">race car
racecar
Race Car
rAcEcAr!!!!
r!a@c#e$c%a^r
r      a     ce car</code></pre></div>
<p>Now we’re going to have to go back to the drawing board.</p>
<p>Let’s start again with the opposed indexes approach, tracking two indexes that move from opposite ends toward the middle of the string. But we’ll need to make a modification here. With an input like <code class="language-text">r a c ecar</code>, the midway point of the string is <em>not</em> the midway point of the letters (‘e’). Since we can’t be sure about the midway point of the actual letters we care about, we’ll use a while loop instead of a for loop, which will allow us to have more control over updating the indexes.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// runs the same as the for loop above</span>
<span class="token keyword">let</span> front <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> back <span class="token operator">=</span> str<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>front <span class="token operator">&lt;</span> back<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span>front<span class="token punctuation">]</span> <span class="token operator">!==</span> str<span class="token punctuation">[</span>back<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  front<span class="token operator">++</span><span class="token punctuation">;</span>
  back<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>But now we’ve run into the first roadblock. In the case of <code class="language-text">race car</code>, this algorithm will return false when comparing the letter “e” at index 4 with the space at index 5.</p>
<p>So we need to have a way to check if the character we’re looking at is a valid letter of the alphabet. This way we can ignore all non-alpha characters (spaces, punctuation, etc.). A regular expression should do the what we need.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> alpha <span class="token operator">=</span> <span class="token regex">/[A-Za-z]/</span><span class="token punctuation">;</span></code></pre></div>
<p>And now let’s modify the while loop so that it skips to the next index when it finds a non-alpha character.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">while</span> <span class="token punctuation">(</span>front <span class="token operator">&lt;</span> back<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>alpha<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>front<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    front<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">continue</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>alpha<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>back<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    back<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token keyword">continue</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span>front<span class="token punctuation">]</span> <span class="token operator">!==</span> str<span class="token punctuation">[</span>back<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  front<span class="token operator">++</span><span class="token punctuation">;</span>
  back<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The first two if blocks will increment <code class="language-text">front</code> and decrement <code class="language-text">back</code> until both of them are at an index containing a letter. Then those letters will be compared in the third if block, returning false if they’re not the same. If they are the same, then it goes on to the next set of characters and continues the loop.</p>
<p>Now we have handled all non-alpha characters, but we still haven’t handled capitalization. As I said before, I’d like <code class="language-text">Race car</code> to count as a palindrome too. Let’s change the comparison at the end of the while loop so that it doesn’t account for case. This is simple enough to do by leveraging the string method <code class="language-text">toLowerCase()</code> (although <code class="language-text">toUpperCase()</code> could be used in the same way).</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span>front<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> str<span class="token punctuation">[</span>back<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Putting it all together, here’s the final solution.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">isPalindrome</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> alpha <span class="token operator">=</span> <span class="token regex">/[A-Za-z]/</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> front <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> back <span class="token operator">=</span> str<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>front <span class="token operator">&lt;</span> back<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>alpha<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>front<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      front<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>alpha<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>back<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      back<span class="token operator">--</span><span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span>front<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> str<span class="token punctuation">[</span>back<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    front<span class="token operator">++</span><span class="token punctuation">;</span>
    back<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></section></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li></li><li><a rel="next" href="/blog/google-sheets-autosort/">Google Sheets Autosort<!-- --> →</a></li></ul></nav></main><footer><hr style="margin-bottom:1.75rem;margin-top:1.75rem"/>© <!-- -->2020<!-- --> <strong><a href="https://github.com/colinthornton">Colin Thornton</a></strong></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/palindrome-algorithms/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-97e688c47ef3d9ebdc3a.js"],"component---src-pages-404-js":["/component---src-pages-404-js-50205e4e99371a0751f6.js"],"component---src-pages-blog-index-js":["/component---src-pages-blog-index-js-a49af64d06e4c455cc0f.js"],"component---src-pages-index-js":["/component---src-pages-index-js-f117abc4d3764d8c1f3b.js"],"component---src-pages-projects-index-js":["/component---src-pages-projects-index-js-e2c0fa96b20a342ab6a6.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-c9103716d676f8d32bfe.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-c9103716d676f8d32bfe.js" async=""></script><script src="/commons-736c4166a3fdefed35cd.js" async=""></script><script src="/app-97e688c47ef3d9ebdc3a.js" async=""></script><script src="/framework-75da9754c2a76bbaf08a.js" async=""></script><script src="/styles-823ae8103e36ae8a7f9f.js" async=""></script><script src="/webpack-runtime-293c9324f0c106f6f902.js" async=""></script></body></html>